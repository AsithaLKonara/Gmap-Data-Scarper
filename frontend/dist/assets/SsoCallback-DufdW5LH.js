import{r as n,e as h,p as f,j as s}from"./index-cuttc60L.js";const m=()=>{const[o,t]=n.useState(null),[i,r]=n.useState(!0),d=h(),[a]=f();return n.useEffect(()=>{const l=a.get("SAMLResponse"),c=a.get("tenant");if(!l||!c){t("Missing SAML response or tenant."),r(!1);return}fetch("/api/auth/sso/callback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({saml_response:l,tenant:c})}).then(async e=>{if(!e.ok)throw new Error(await e.text());return e.json()}).then(e=>{e.access_token?(localStorage.setItem("token",e.access_token),window.location.href="/dashboard"):t("SSO login failed.")}).catch(e=>{t(e.message||"SSO login failed.")}).finally(()=>r(!1))},[a,d]),s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 max-w-md w-full text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"SSO Login"}),i&&s.jsx("div",{children:"Processing SSO login..."}),o&&s.jsx("div",{className:"text-red-500",children:o})]})})};export{m as default};
//# sourceMappingURL=SsoCallback-DufdW5LH.js.map
