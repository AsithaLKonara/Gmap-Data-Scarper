{"version":3,"file":"TeamManagement-1RbohnXW.js","sources":["../../src/pages/TeamManagement.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {\n  Box, Heading, VStack, HStack, Button, Input, Table, Thead, Tr, Th, Tbody, Td, Select, useToast, Modal, ModalOverlay, ModalContent, ModalHeader, ModalBody, ModalFooter, ModalCloseButton, Spinner, Badge, Text\n} from '@chakra-ui/react';\nimport {\n  getTeams, createTeam, inviteToTeam, listTeamMembers, removeTeamMember, changeTeamMemberRole, transferTeamOwnership, acceptTeamInvite, declineTeamInvite, getUser\n} from '../api';\n\nconst TeamManagement: React.FC = () => {\n  const [teams, setTeams] = useState<any[]>([]);\n  const [selectedTeam, setSelectedTeam] = useState<any>(null);\n  const [members, setMembers] = useState<any[]>([]);\n  const [teamName, setTeamName] = useState('');\n  const [inviteEmail, setInviteEmail] = useState('');\n  const [inviteRole, setInviteRole] = useState('member');\n  const [modalOpen, setModalOpen] = useState(false);\n  const [transferUserId, setTransferUserId] = useState('');\n  const toast = useToast();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [invites, setInvites] = useState<any[]>([]);\n  const [myUserId, setMyUserId] = useState<number | null>(null);\n  const [user, setUser] = useState<any>(null);\n\n  useEffect(() => {\n    getUser().then(setUser);\n    loadTeams();\n  }, []);\n\n  const loadTeams = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const data = await getTeams();\n      setTeams(data);\n      if (data.length > 0) {\n        setSelectedTeam(data[0]);\n        loadMembers(data[0].id);\n      }\n    } catch (e: any) {\n      setError(e.message || 'Failed to load teams');\n      toast({ title: 'Error', description: e.message, status: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadMembers = async (teamId: number) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const data = await listTeamMembers(teamId);\n      setMembers(data);\n    } catch (e: any) {\n      setError(e.message || 'Failed to load members');\n      toast({ title: 'Error', description: e.message, status: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCreateTeam = async () => {\n    if (!teamName.trim()) return;\n    setLoading(true);\n    setError(null);\n    try {\n      await createTeam({ name: teamName });\n      setTeamName('');\n      loadTeams();\n      toast({ title: 'Team created', status: 'success' });\n    } catch (e: any) {\n      setError(e.message || 'Failed to create team');\n      toast({ title: 'Error', description: e.message, status: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInvite = async () => {\n    if (!inviteEmail.trim()) return;\n    setLoading(true);\n    setError(null);\n    try {\n      await inviteToTeam(selectedTeam.id, { email: inviteEmail, role: inviteRole });\n      setInviteEmail('');\n      setInviteRole('member');\n      loadMembers(selectedTeam.id);\n      toast({ title: 'User invited', status: 'success' });\n    } catch (e: any) {\n      setError(e.message || 'Failed to invite user');\n      toast({ title: 'Error', description: e.message, status: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRemove = async (memberId: number) => {\n    setLoading(true);\n    setError(null);\n    try {\n      await removeTeamMember(selectedTeam.id, memberId);\n      loadMembers(selectedTeam.id);\n      toast({ title: 'Member removed', status: 'info' });\n    } catch (e: any) {\n      setError(e.message || 'Failed to remove member');\n      toast({ title: 'Error', description: e.message, status: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChangeRole = async (memberId: number, role: string) => {\n    setLoading(true);\n    setError(null);\n    try {\n      await changeTeamMemberRole(selectedTeam.id, memberId, role);\n      loadMembers(selectedTeam.id);\n      toast({ title: 'Role updated', status: 'success' });\n    } catch (e: any) {\n      setError(e.message || 'Failed to update role');\n      toast({ title: 'Error', description: e.message, status: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleTransferOwnership = async () => {\n    if (!transferUserId) return;\n    setLoading(true);\n    setError(null);\n    try {\n      await transferTeamOwnership(selectedTeam.id, Number(transferUserId));\n      setModalOpen(false);\n      loadTeams();\n      toast({ title: 'Ownership transferred', status: 'success' });\n    } catch (e: any) {\n      setError(e.message || 'Failed to transfer ownership');\n      toast({ title: 'Error', description: e.message, status: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAcceptInvite = async (membershipId: number) => {\n    setLoading(true);\n    setError(null);\n    try {\n      await acceptTeamInvite(membershipId);\n      loadTeams();\n      toast({ title: 'Invite accepted', status: 'success' });\n    } catch (e: any) {\n      setError(e.message || 'Failed to accept invite');\n      toast({ title: 'Error', description: e.message, status: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeclineInvite = async (membershipId: number) => {\n    setLoading(true);\n    setError(null);\n    try {\n      await declineTeamInvite(membershipId);\n      loadTeams();\n      toast({ title: 'Invite declined', status: 'info' });\n    } catch (e: any) {\n      setError(e.message || 'Failed to decline invite');\n      toast({ title: 'Error', description: e.message, status: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (user && user.plan !== 'pro' && user.plan !== 'business') {\n    return (\n      <Box p={8}>\n        <Heading size=\"lg\" mb={6}>Team Management</Heading>\n        <Text color=\"red.500\" mb={4}>Team features are only available on Pro and Business plans.</Text>\n        <Button colorScheme=\"blue\" href=\"/upgrade\">Upgrade Plan</Button>\n      </Box>\n    );\n  }\n\n  return (\n    <Box p={8} data-tour=\"team-main\">\n      <Heading size=\"lg\" mb={6} data-tour=\"team-title\">Team Management</Heading>\n      {loading && <Spinner data-tour=\"team-loading\" />}\n      {error && <Text color=\"red.500\" data-tour=\"team-error\">{error}</Text>}\n      <VStack align=\"stretch\" spacing={6} data-tour=\"team-content\">\n        <Box data-tour=\"team-create\">\n          <HStack>\n            <Input placeholder=\"New team name\" value={teamName} onChange={e => setTeamName(e.target.value)} data-tour=\"team-name-input\" />\n            <Button colorScheme=\"blue\" onClick={handleCreateTeam} isLoading={loading} data-tour=\"team-create-btn\">Create Team</Button>\n          </HStack>\n        </Box>\n        <Box data-tour=\"team-select\">\n          <Select value={selectedTeam?.id || ''} onChange={e => {\n            const t = teams.find(t => t.id === Number(e.target.value));\n            setSelectedTeam(t);\n            loadMembers(t.id);\n          }} placeholder=\"Select a team\" data-tour=\"team-select-dropdown\">\n            {teams.map(t => <option key={t.id} value={t.id}>{t.name}</option>)}\n          </Select>\n        </Box>\n        {invites.length > 0 && (\n          <Box>\n            <Heading size=\"sm\" mb={2}>Pending Invites</Heading>\n            <Table size=\"sm\">\n              <Thead>\n                <Tr>\n                  <Th>Team</Th>\n                  <Th>Role</Th>\n                  <Th>Status</Th>\n                  <Th>Invited At</Th>\n                  <Th>Actions</Th>\n                </Tr>\n              </Thead>\n              <Tbody>\n                {invites.map(invite => (\n                  <Tr key={invite.id}>\n                    <Td>{invite.team_name}</Td>\n                    <Td><Badge>{invite.role}</Badge></Td>\n                    <Td>{invite.status}</Td>\n                    <Td>{new Date(invite.invited_at).toLocaleString()}</Td>\n                    <Td>\n                      {invite.status === 'invited' && (\n                        <>\n                          <Button size=\"xs\" colorScheme=\"green\" onClick={() => handleAcceptInvite(invite.id)}>Accept</Button>\n                          <Button size=\"xs\" colorScheme=\"red\" onClick={() => handleDeclineInvite(invite.id)}>Decline</Button>\n                        </>\n                      )}\n                    </Td>\n                  </Tr>\n                ))}\n              </Tbody>\n            </Table>\n          </Box>\n        )}\n        {selectedTeam && (\n          <Box>\n            <Heading size=\"md\" mb={4}>Members</Heading>\n            {members.length === 0 ? (\n              <Text color=\"gray.500\">No members yet.</Text>\n            ) : (\n              <Table size=\"sm\">\n                <Thead>\n                  <Tr>\n                    <Th>User ID</Th>\n                    <Th>Email</Th>\n                    <Th>Role</Th>\n                    <Th>Status</Th>\n                    <Th>Invited At</Th>\n                    <Th>Actions</Th>\n                  </Tr>\n                </Thead>\n                <Tbody>\n                  {members.map(m => (\n                    <Tr key={m.id} bg={m.user_id === selectedTeam.owner_id ? 'yellow.50' : undefined}>\n                      <Td>{m.user_id}{m.user_id === selectedTeam.owner_id && <Badge ml={2} colorScheme=\"yellow\">Owner</Badge>}</Td>\n                      <Td>{m.email || '-'}</Td>\n                      <Td><Badge colorScheme={m.role === 'admin' ? 'blue' : m.role === 'member' ? 'green' : 'gray'}>{m.role}</Badge></Td>\n                      <Td>{m.status}</Td>\n                      <Td>{new Date(m.invited_at).toLocaleString()}</Td>\n                      <Td>\n                        <Button size=\"xs\" colorScheme=\"red\" onClick={() => handleRemove(m.user_id)} isDisabled={m.user_id === selectedTeam.owner_id}>Remove</Button>\n                      </Td>\n                    </Tr>\n                  ))}\n                </Tbody>\n              </Table>\n            )}\n            <HStack mt={4}>\n              <Input placeholder=\"Invite email\" value={inviteEmail} onChange={e => setInviteEmail(e.target.value)} />\n              <Select value={inviteRole} onChange={e => setInviteRole(e.target.value)} w=\"120px\">\n                <option value=\"member\">Member</option>\n                <option value=\"admin\">Admin</option>\n                <option value=\"viewer\">Viewer</option>\n              </Select>\n              <Button colorScheme=\"blue\" onClick={handleInvite} isLoading={loading}>Invite</Button>\n            </HStack>\n            <Button mt={4} colorScheme=\"yellow\" onClick={() => setModalOpen(true)}>Transfer Ownership</Button>\n            <Modal isOpen={modalOpen} onClose={() => setModalOpen(false)}>\n              <ModalOverlay />\n              <ModalContent>\n                <ModalHeader>Transfer Ownership</ModalHeader>\n                <ModalCloseButton />\n                <ModalBody>\n                  <Select placeholder=\"Select new owner\" value={transferUserId} onChange={e => setTransferUserId(e.target.value)}>\n                    {members.filter(m => m.user_id !== selectedTeam.owner_id).map(m => (\n                      <option key={m.user_id} value={m.user_id}>{m.user_id}</option>\n                    ))}\n                  </Select>\n                </ModalBody>\n                <ModalFooter>\n                  <Button variant=\"ghost\" mr={3} onClick={() => setModalOpen(false)}>Cancel</Button>\n                  <Button colorScheme=\"yellow\" onClick={handleTransferOwnership} isLoading={loading}>Transfer</Button>\n                </ModalFooter>\n              </ModalContent>\n            </Modal>\n          </Box>\n        )}\n      </VStack>\n    </Box>\n  );\n};\n\nexport default TeamManagement; "],"names":["TeamManagement","teams","setTeams","useState","selectedTeam","setSelectedTeam","members","setMembers","teamName","setTeamName","inviteEmail","setInviteEmail","inviteRole","setInviteRole","modalOpen","setModalOpen","transferUserId","setTransferUserId","toast","useToast","loading","setLoading","error","setError","invites","setInvites","myUserId","setMyUserId","user","setUser","useEffect","getUser","loadTeams","data","getTeams","loadMembers","e","teamId","listTeamMembers","handleCreateTeam","createTeam","handleInvite","inviteToTeam","handleRemove","memberId","removeTeamMember","handleTransferOwnership","transferTeamOwnership","handleAcceptInvite","membershipId","acceptTeamInvite","handleDeclineInvite","declineTeamInvite","jsxs","Box","jsx","Heading","Text","Button","Spinner","VStack","HStack","Input","Select","t","Table","Thead","Tr","Th","Tbody","invite","Td","Badge","Fragment","m","Modal","ModalOverlay","ModalContent","ModalHeader","ModalCloseButton","ModalBody","ModalFooter"],"mappings":"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"}