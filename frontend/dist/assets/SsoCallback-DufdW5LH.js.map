{"version":3,"file":"SsoCallback-DufdW5LH.js","sources":["../../src/pages/SsoCallback.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\n\nconst SsoCallback: React.FC = () => {\n  const [error, setError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n\n  useEffect(() => {\n    const samlResponse = searchParams.get('SAMLResponse');\n    const tenant = searchParams.get('tenant');\n    if (!samlResponse || !tenant) {\n      setError('Missing SAML response or tenant.');\n      setLoading(false);\n      return;\n    }\n    // Call backend SSO callback\n    fetch('/api/auth/sso/callback', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ saml_response: samlResponse, tenant }),\n    })\n      .then(async (res) => {\n        if (!res.ok) throw new Error(await res.text());\n        return res.json();\n      })\n      .then((data) => {\n        if (data.access_token) {\n          localStorage.setItem('token', data.access_token);\n          window.location.href = '/dashboard';\n        } else {\n          setError('SSO login failed.');\n        }\n      })\n      .catch((e) => {\n        setError(e.message || 'SSO login failed.');\n      })\n      .finally(() => setLoading(false));\n  }, [searchParams, navigate]);\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center justify-center bg-gray-100\">\n      <div className=\"bg-white rounded-lg shadow p-8 max-w-md w-full text-center\">\n        <h1 className=\"text-2xl font-bold mb-4\">SSO Login</h1>\n        {loading && <div>Processing SSO login...</div>}\n        {error && <div className=\"text-red-500\">{error}</div>}\n      </div>\n    </div>\n  );\n};\n\nexport default SsoCallback; "],"names":["SsoCallback","error","setError","useState","loading","setLoading","navigate","useNavigate","searchParams","useSearchParams","useEffect","samlResponse","tenant","res","data","jsxs","jsx"],"mappings":"6DAGA,MAAMA,EAAwB,IAAM,CAClC,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAwB,IAAI,EAChD,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EACrCG,EAAWC,EAAA,EACX,CAACC,CAAY,EAAIC,EAAA,EAEvBC,OAAAA,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAeH,EAAa,IAAI,cAAc,EAC9CI,EAASJ,EAAa,IAAI,QAAQ,EACxC,GAAI,CAACG,GAAgB,CAACC,EAAQ,CAC5BV,EAAS,kCAAkC,EAC3CG,EAAW,EAAK,EAChB,MACF,CAEA,MAAM,yBAA0B,CAC9B,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAA,EAC3B,KAAM,KAAK,UAAU,CAAE,cAAeM,EAAc,OAAAC,EAAQ,CAAA,CAC7D,EACE,KAAK,MAAOC,GAAQ,CACnB,GAAI,CAACA,EAAI,GAAI,MAAM,IAAI,MAAM,MAAMA,EAAI,MAAM,EAC7C,OAAOA,EAAI,KAAA,CACb,CAAC,EACA,KAAMC,GAAS,CACVA,EAAK,cACP,aAAa,QAAQ,QAASA,EAAK,YAAY,EAC/C,OAAO,SAAS,KAAO,cAEvBZ,EAAS,mBAAmB,CAEhC,CAAC,EACA,MAAO,GAAM,CACZA,EAAS,EAAE,SAAW,mBAAmB,CAC3C,CAAC,EACA,QAAQ,IAAMG,EAAW,EAAK,CAAC,CACpC,EAAG,CAACG,EAAcF,CAAQ,CAAC,QAGxB,MAAA,CAAI,UAAU,qEACb,SAAAS,EAAAA,KAAC,MAAA,CAAI,UAAU,6DACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,0BAA0B,SAAA,YAAS,EAChDZ,GAAWY,EAAAA,IAAC,MAAA,CAAI,SAAA,yBAAA,CAAuB,EACvCf,GAASe,EAAAA,IAAC,MAAA,CAAI,UAAU,eAAgB,SAAAf,CAAA,CAAM,CAAA,CAAA,CACjD,CAAA,CACF,CAEJ"}