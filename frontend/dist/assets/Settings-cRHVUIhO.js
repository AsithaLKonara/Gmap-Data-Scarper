import{r as g,j as t,R as M,u as es,L as je}from"./index-cuttc60L.js";import{getWebhookUrl as ts,getCRMStatus as ss,getTenantSsoConfig as ns,getTenantPlan as rs,getTenantBilling as os,getTenant as is,getSecurityStatus as ae,setWebhookUrl as as,deleteWebhookUrl as ls,testWebhook as cs,connectCRM as ds,disconnectCRM as us,disable2FAEnhanced as hs,regenerate2FABackupCodes as gs,setup2FA as ms,verifyAndEnable2FA as fs,updateTenantSsoConfig as qe,createPayHereSession as ps,updateTenantPlan as bs,updateTenantBilling as Cs,updateTenant as Ss}from"./index-CvLuV8mT.js";import{c as xs,u as ys}from"./create-icon-Dj5rIplF.js";import{u as Es,I as L,V as et}from"./use-toast-DpWWrysv.js";import{a as S,B as v}from"./button-D-CbrSAB.js";import{H as I,T as C}from"./text-D7Hreo_J.js";import{H as G}from"./h-stack-MdeSV0qw.js";import{f as ws}from"./use-style-config-BvA8OEwb.js";import{M as js,a as As,b as Rs,c as vs,d as Ms,e as _s,f as ks}from"./modal-overlay-lpV3bALa.js";import"./icon-BANxJJXO.js";import"./motion-OoEXE3Ue.js";const Ae=ws((e,a)=>{const{icon:u,children:c,isRound:x,"aria-label":f,...b}=e,m=u||c,s=g.isValidElement(m)?g.cloneElement(m,{"aria-hidden":!0,focusable:!1}):null;return t.jsx(S,{px:"0",py:"0",borderRadius:x?"full":void 0,ref:a,"aria-label":f,...b,children:s})});Ae.displayName="IconButton";var Fs=Object.defineProperty,le=Object.getOwnPropertySymbols,nt=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable,tt=(e,a,u)=>a in e?Fs(e,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[a]=u,te=(e,a)=>{for(var u in a||(a={}))nt.call(a,u)&&tt(e,u,a[u]);if(le)for(var u of le(a))rt.call(a,u)&&tt(e,u,a[u]);return e},Re=(e,a)=>{var u={};for(var c in e)nt.call(e,c)&&a.indexOf(c)<0&&(u[c]=e[c]);if(e!=null&&le)for(var c of le(e))a.indexOf(c)<0&&rt.call(e,c)&&(u[c]=e[c]);return u};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var z;(e=>{const a=class{constructor(s,n,r,i){if(this.version=s,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],s<a.MIN_VERSION||s>a.MAX_VERSION)throw new RangeError("Version value out of range");if(i<-1||i>7)throw new RangeError("Mask value out of range");this.size=s*4+17;let l=[];for(let d=0;d<this.size;d++)l.push(!1);for(let d=0;d<this.size;d++)this.modules.push(l.slice()),this.isFunction.push(l.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(r);if(this.drawCodewords(h),i==-1){let d=1e9;for(let w=0;w<8;w++){this.applyMask(w),this.drawFormatBits(w);const y=this.getPenaltyScore();y<d&&(i=w,d=y),this.applyMask(w)}}f(0<=i&&i<=7),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}static encodeText(s,n){const r=e.QrSegment.makeSegments(s);return a.encodeSegments(r,n)}static encodeBinary(s,n){const r=e.QrSegment.makeBytes(s);return a.encodeSegments([r],n)}static encodeSegments(s,n,r=1,i=40,l=-1,h=!0){if(!(a.MIN_VERSION<=r&&r<=i&&i<=a.MAX_VERSION)||l<-1||l>7)throw new RangeError("Invalid value");let d,w;for(d=r;;d++){const E=a.getNumDataCodewords(d,n)*8,j=m.getTotalBits(s,d);if(j<=E){w=j;break}if(d>=i)throw new RangeError("Data too long")}for(const E of[a.Ecc.MEDIUM,a.Ecc.QUARTILE,a.Ecc.HIGH])h&&w<=a.getNumDataCodewords(d,E)*8&&(n=E);let y=[];for(const E of s){c(E.mode.modeBits,4,y),c(E.numChars,E.mode.numCharCountBits(d),y);for(const j of E.getData())y.push(j)}f(y.length==w);const B=a.getNumDataCodewords(d,n)*8;f(y.length<=B),c(0,Math.min(4,B-y.length),y),c(0,(8-y.length%8)%8,y),f(y.length%8==0);for(let E=236;y.length<B;E^=253)c(E,8,y);let F=[];for(;F.length*8<y.length;)F.push(0);return y.forEach((E,j)=>F[j>>>3]|=E<<7-(j&7)),new a(d,n,F,l)}getModule(s,n){return 0<=s&&s<this.size&&0<=n&&n<this.size&&this.modules[n][s]}getModules(){return this.modules}drawFunctionPatterns(){for(let r=0;r<this.size;r++)this.setFunctionModule(6,r,r%2==0),this.setFunctionModule(r,6,r%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const s=this.getAlignmentPatternPositions(),n=s.length;for(let r=0;r<n;r++)for(let i=0;i<n;i++)r==0&&i==0||r==0&&i==n-1||r==n-1&&i==0||this.drawAlignmentPattern(s[r],s[i]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(s){const n=this.errorCorrectionLevel.formatBits<<3|s;let r=n;for(let l=0;l<10;l++)r=r<<1^(r>>>9)*1335;const i=(n<<10|r)^21522;f(i>>>15==0);for(let l=0;l<=5;l++)this.setFunctionModule(8,l,x(i,l));this.setFunctionModule(8,7,x(i,6)),this.setFunctionModule(8,8,x(i,7)),this.setFunctionModule(7,8,x(i,8));for(let l=9;l<15;l++)this.setFunctionModule(14-l,8,x(i,l));for(let l=0;l<8;l++)this.setFunctionModule(this.size-1-l,8,x(i,l));for(let l=8;l<15;l++)this.setFunctionModule(8,this.size-15+l,x(i,l));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let s=this.version;for(let r=0;r<12;r++)s=s<<1^(s>>>11)*7973;const n=this.version<<12|s;f(n>>>18==0);for(let r=0;r<18;r++){const i=x(n,r),l=this.size-11+r%3,h=Math.floor(r/3);this.setFunctionModule(l,h,i),this.setFunctionModule(h,l,i)}}drawFinderPattern(s,n){for(let r=-4;r<=4;r++)for(let i=-4;i<=4;i++){const l=Math.max(Math.abs(i),Math.abs(r)),h=s+i,d=n+r;0<=h&&h<this.size&&0<=d&&d<this.size&&this.setFunctionModule(h,d,l!=2&&l!=4)}}drawAlignmentPattern(s,n){for(let r=-2;r<=2;r++)for(let i=-2;i<=2;i++)this.setFunctionModule(s+i,n+r,Math.max(Math.abs(i),Math.abs(r))!=1)}setFunctionModule(s,n,r){this.modules[n][s]=r,this.isFunction[n][s]=!0}addEccAndInterleave(s){const n=this.version,r=this.errorCorrectionLevel;if(s.length!=a.getNumDataCodewords(n,r))throw new RangeError("Invalid argument");const i=a.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],l=a.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],h=Math.floor(a.getNumRawDataModules(n)/8),d=i-h%i,w=Math.floor(h/i);let y=[];const B=a.reedSolomonComputeDivisor(l);for(let E=0,j=0;E<i;E++){let _=s.slice(j,j+w-l+(E<d?0:1));j+=_.length;const U=a.reedSolomonComputeRemainder(_,B);E<d&&_.push(0),y.push(_.concat(U))}let F=[];for(let E=0;E<y[0].length;E++)y.forEach((j,_)=>{(E!=w-l||_>=d)&&F.push(j[E])});return f(F.length==h),F}drawCodewords(s){if(s.length!=Math.floor(a.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let n=0;for(let r=this.size-1;r>=1;r-=2){r==6&&(r=5);for(let i=0;i<this.size;i++)for(let l=0;l<2;l++){const h=r-l,w=(r+1&2)==0?this.size-1-i:i;!this.isFunction[w][h]&&n<s.length*8&&(this.modules[w][h]=x(s[n>>>3],7-(n&7)),n++)}}f(n==s.length*8)}applyMask(s){if(s<0||s>7)throw new RangeError("Mask value out of range");for(let n=0;n<this.size;n++)for(let r=0;r<this.size;r++){let i;switch(s){case 0:i=(r+n)%2==0;break;case 1:i=n%2==0;break;case 2:i=r%3==0;break;case 3:i=(r+n)%3==0;break;case 4:i=(Math.floor(r/3)+Math.floor(n/2))%2==0;break;case 5:i=r*n%2+r*n%3==0;break;case 6:i=(r*n%2+r*n%3)%2==0;break;case 7:i=((r+n)%2+r*n%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[n][r]&&i&&(this.modules[n][r]=!this.modules[n][r])}}getPenaltyScore(){let s=0;for(let l=0;l<this.size;l++){let h=!1,d=0,w=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[l][y]==h?(d++,d==5?s+=a.PENALTY_N1:d>5&&s++):(this.finderPenaltyAddHistory(d,w),h||(s+=this.finderPenaltyCountPatterns(w)*a.PENALTY_N3),h=this.modules[l][y],d=1);s+=this.finderPenaltyTerminateAndCount(h,d,w)*a.PENALTY_N3}for(let l=0;l<this.size;l++){let h=!1,d=0,w=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][l]==h?(d++,d==5?s+=a.PENALTY_N1:d>5&&s++):(this.finderPenaltyAddHistory(d,w),h||(s+=this.finderPenaltyCountPatterns(w)*a.PENALTY_N3),h=this.modules[y][l],d=1);s+=this.finderPenaltyTerminateAndCount(h,d,w)*a.PENALTY_N3}for(let l=0;l<this.size-1;l++)for(let h=0;h<this.size-1;h++){const d=this.modules[l][h];d==this.modules[l][h+1]&&d==this.modules[l+1][h]&&d==this.modules[l+1][h+1]&&(s+=a.PENALTY_N2)}let n=0;for(const l of this.modules)n=l.reduce((h,d)=>h+(d?1:0),n);const r=this.size*this.size,i=Math.ceil(Math.abs(n*20-r*10)/r)-1;return f(0<=i&&i<=9),s+=i*a.PENALTY_N4,f(0<=s&&s<=2568888),s}getAlignmentPatternPositions(){if(this.version==1)return[];{const s=Math.floor(this.version/7)+2,n=this.version==32?26:Math.ceil((this.version*4+4)/(s*2-2))*2;let r=[6];for(let i=this.size-7;r.length<s;i-=n)r.splice(1,0,i);return r}}static getNumRawDataModules(s){if(s<a.MIN_VERSION||s>a.MAX_VERSION)throw new RangeError("Version number out of range");let n=(16*s+128)*s+64;if(s>=2){const r=Math.floor(s/7)+2;n-=(25*r-10)*r-55,s>=7&&(n-=36)}return f(208<=n&&n<=29648),n}static getNumDataCodewords(s,n){return Math.floor(a.getNumRawDataModules(s)/8)-a.ECC_CODEWORDS_PER_BLOCK[n.ordinal][s]*a.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][s]}static reedSolomonComputeDivisor(s){if(s<1||s>255)throw new RangeError("Degree out of range");let n=[];for(let i=0;i<s-1;i++)n.push(0);n.push(1);let r=1;for(let i=0;i<s;i++){for(let l=0;l<n.length;l++)n[l]=a.reedSolomonMultiply(n[l],r),l+1<n.length&&(n[l]^=n[l+1]);r=a.reedSolomonMultiply(r,2)}return n}static reedSolomonComputeRemainder(s,n){let r=n.map(i=>0);for(const i of s){const l=i^r.shift();r.push(0),n.forEach((h,d)=>r[d]^=a.reedSolomonMultiply(h,l))}return r}static reedSolomonMultiply(s,n){if(s>>>8||n>>>8)throw new RangeError("Byte out of range");let r=0;for(let i=7;i>=0;i--)r=r<<1^(r>>>7)*285,r^=(n>>>i&1)*s;return f(r>>>8==0),r}finderPenaltyCountPatterns(s){const n=s[1];f(n<=this.size*3);const r=n>0&&s[2]==n&&s[3]==n*3&&s[4]==n&&s[5]==n;return(r&&s[0]>=n*4&&s[6]>=n?1:0)+(r&&s[6]>=n*4&&s[0]>=n?1:0)}finderPenaltyTerminateAndCount(s,n,r){return s&&(this.finderPenaltyAddHistory(n,r),n=0),n+=this.size,this.finderPenaltyAddHistory(n,r),this.finderPenaltyCountPatterns(r)}finderPenaltyAddHistory(s,n){n[0]==0&&(s+=this.size),n.pop(),n.unshift(s)}};let u=a;u.MIN_VERSION=1,u.MAX_VERSION=40,u.PENALTY_N1=3,u.PENALTY_N2=3,u.PENALTY_N3=40,u.PENALTY_N4=10,u.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],u.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=u;function c(s,n,r){if(n<0||n>31||s>>>n)throw new RangeError("Value out of range");for(let i=n-1;i>=0;i--)r.push(s>>>i&1)}function x(s,n){return(s>>>n&1)!=0}function f(s){if(!s)throw new Error("Assertion error")}const b=class{constructor(s,n,r){if(this.mode=s,this.numChars=n,this.bitData=r,n<0)throw new RangeError("Invalid argument");this.bitData=r.slice()}static makeBytes(s){let n=[];for(const r of s)c(r,8,n);return new b(b.Mode.BYTE,s.length,n)}static makeNumeric(s){if(!b.isNumeric(s))throw new RangeError("String contains non-numeric characters");let n=[];for(let r=0;r<s.length;){const i=Math.min(s.length-r,3);c(parseInt(s.substr(r,i),10),i*3+1,n),r+=i}return new b(b.Mode.NUMERIC,s.length,n)}static makeAlphanumeric(s){if(!b.isAlphanumeric(s))throw new RangeError("String contains unencodable characters in alphanumeric mode");let n=[],r;for(r=0;r+2<=s.length;r+=2){let i=b.ALPHANUMERIC_CHARSET.indexOf(s.charAt(r))*45;i+=b.ALPHANUMERIC_CHARSET.indexOf(s.charAt(r+1)),c(i,11,n)}return r<s.length&&c(b.ALPHANUMERIC_CHARSET.indexOf(s.charAt(r)),6,n),new b(b.Mode.ALPHANUMERIC,s.length,n)}static makeSegments(s){return s==""?[]:b.isNumeric(s)?[b.makeNumeric(s)]:b.isAlphanumeric(s)?[b.makeAlphanumeric(s)]:[b.makeBytes(b.toUtf8ByteArray(s))]}static makeEci(s){let n=[];if(s<0)throw new RangeError("ECI assignment value out of range");if(s<128)c(s,8,n);else if(s<16384)c(2,2,n),c(s,14,n);else if(s<1e6)c(6,3,n),c(s,21,n);else throw new RangeError("ECI assignment value out of range");return new b(b.Mode.ECI,0,n)}static isNumeric(s){return b.NUMERIC_REGEX.test(s)}static isAlphanumeric(s){return b.ALPHANUMERIC_REGEX.test(s)}getData(){return this.bitData.slice()}static getTotalBits(s,n){let r=0;for(const i of s){const l=i.mode.numCharCountBits(n);if(i.numChars>=1<<l)return 1/0;r+=4+l+i.bitData.length}return r}static toUtf8ByteArray(s){s=encodeURI(s);let n=[];for(let r=0;r<s.length;r++)s.charAt(r)!="%"?n.push(s.charCodeAt(r)):(n.push(parseInt(s.substr(r+1,2),16)),r+=2);return n}};let m=b;m.NUMERIC_REGEX=/^[0-9]*$/,m.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,m.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=m})(z||(z={}));(e=>{(a=>{const u=class{constructor(x,f){this.ordinal=x,this.formatBits=f}};let c=u;c.LOW=new u(0,1),c.MEDIUM=new u(1,0),c.QUARTILE=new u(2,3),c.HIGH=new u(3,2),a.Ecc=c})(e.QrCode||(e.QrCode={}))})(z||(z={}));(e=>{(a=>{const u=class{constructor(x,f){this.modeBits=x,this.numBitsCharCount=f}numCharCountBits(x){return this.numBitsCharCount[Math.floor((x+7)/17)]}};let c=u;c.NUMERIC=new u(1,[10,12,14]),c.ALPHANUMERIC=new u(2,[9,11,13]),c.BYTE=new u(4,[8,16,16]),c.KANJI=new u(8,[8,10,12]),c.ECI=new u(7,[0,0,0]),a.Mode=c})(e.QrSegment||(e.QrSegment={}))})(z||(z={}));var V=z;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var ot={L:V.QrCode.Ecc.LOW,M:V.QrCode.Ecc.MEDIUM,Q:V.QrCode.Ecc.QUARTILE,H:V.QrCode.Ecc.HIGH},it=128,at="L",lt="#FFFFFF",ct="#000000",dt=!1,ve=4,Ps=.1;function ut(e,a=0){const u=[];return e.forEach(function(c,x){let f=null;c.forEach(function(b,m){if(!b&&f!==null){u.push(`M${f+a} ${x+a}h${m-f}v1H${f+a}z`),f=null;return}if(m===c.length-1){if(!b)return;f===null?u.push(`M${m+a},${x+a} h1v1H${m+a}z`):u.push(`M${f+a},${x+a} h${m+1-f}v1H${f+a}z`);return}b&&f===null&&(f=m)})}),u.join("")}function ht(e,a){return e.slice().map((u,c)=>c<a.y||c>=a.y+a.h?u:u.map((x,f)=>f<a.x||f>=a.x+a.w?x:!1))}function gt(e,a,u,c){if(c==null)return null;const x=u?ve:0,f=e.length+x*2,b=Math.floor(a*Ps),m=f/a,s=(c.width||b)*m,n=(c.height||b)*m,r=c.x==null?e.length/2-s/2:c.x*m,i=c.y==null?e.length/2-n/2:c.y*m;let l=null;if(c.excavate){let h=Math.floor(r),d=Math.floor(i),w=Math.ceil(s+r-h),y=Math.ceil(n+i-d);l={x:h,y:d,w,h:y}}return{x:r,y:i,h:n,w:s,excavation:l}}var Ls=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Is(e){const a=e,{value:u,size:c=it,level:x=at,bgColor:f=lt,fgColor:b=ct,includeMargin:m=dt,style:s,imageSettings:n}=a,r=Re(a,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),i=n==null?void 0:n.src,l=M.useRef(null),h=M.useRef(null),[d,w]=M.useState(!1);M.useEffect(()=>{if(l.current!=null){const F=l.current,E=F.getContext("2d");if(!E)return;let j=V.QrCode.encodeText(u,ot[x]).getModules();const _=m?ve:0,U=j.length+_*2,P=gt(j,c,m,n),k=h.current,ce=P!=null&&k!==null&&k.complete&&k.naturalHeight!==0&&k.naturalWidth!==0;ce&&P.excavation!=null&&(j=ht(j,P.excavation));const de=window.devicePixelRatio||1;F.height=F.width=c*de;const O=c/U*de;E.scale(O,O),E.fillStyle=f,E.fillRect(0,0,U,U),E.fillStyle=b,Ls?E.fill(new Path2D(ut(j,_))):j.forEach(function(H,se){H.forEach(function(ue,he){ue&&E.fillRect(he+_,se+_,1,1)})}),ce&&E.drawImage(k,P.x+_,P.y+_,P.w,P.h)}}),M.useEffect(()=>{w(!1)},[i]);const y=te({height:c,width:c},s);let B=null;return i!=null&&(B=M.createElement("img",{src:i,key:i,style:{display:"none"},onLoad:()=>{w(!0)},ref:h})),M.createElement(M.Fragment,null,M.createElement("canvas",te({style:y,height:c,width:c,ref:l},r)),B)}function Ds(e){const a=e,{value:u,size:c=it,level:x=at,bgColor:f=lt,fgColor:b=ct,includeMargin:m=dt,imageSettings:s}=a,n=Re(a,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let r=V.QrCode.encodeText(u,ot[x]).getModules();const i=m?ve:0,l=r.length+i*2,h=gt(r,c,m,s);let d=null;s!=null&&h!=null&&(h.excavation!=null&&(r=ht(r,h.excavation)),d=M.createElement("image",{xlinkHref:s.src,height:h.h,width:h.w,x:h.x+i,y:h.y+i,preserveAspectRatio:"none"}));const w=ut(r,i);return M.createElement("svg",te({height:c,width:c,viewBox:`0 0 ${l} ${l}`},n),M.createElement("path",{fill:f,d:`M0,0 h${l}v${l}H0z`,shapeRendering:"crispEdges"}),M.createElement("path",{fill:b,d:w,shapeRendering:"crispEdges"}),d)}var Ts=e=>{const a=e,{renderAs:u}=a,c=Re(a,["renderAs"]);return u==="svg"?M.createElement(Ds,te({},c)):M.createElement(Is,te({},c))};const st=xs({d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",displayName:"CopyIcon"}),D="white",T="gray.200";function Vs(){const{t:e}=es(),[a,u]=g.useState(""),[c,x]=g.useState(!1),[f,b]=g.useState(null),[m,s]=g.useState({}),[n,r]=g.useState(""),[i,l]=g.useState({}),[h,d]=g.useState(!1),[w,y]=g.useState(!1),[B,F]=g.useState(null),[E,j]=g.useState(null),[_,U]=g.useState(""),[P,k]=g.useState(!1),[ce,de]=g.useState(null),[O,H]=g.useState(!1),[se,ue]=g.useState(null),[he,Me]=g.useState(!1),[X,mt]=g.useState(null),[ne,ft]=g.useState(null),[pt,_e]=g.useState(!1),[ke,bt]=g.useState(""),[Ct,St]=g.useState(!1),[Q,Fe]=g.useState(null),[Pe,xt]=g.useState(10),[yt,Le]=g.useState(!1),[N,ge]=g.useState({}),[Ie,W]=g.useState(!1),[Et,me]=g.useState(!1),[K,re]=g.useState({entity_id:"",sso_url:"",cert:""}),[De,Te]=g.useState({}),[wt,Be]=g.useState({}),[fe,$]=g.useState(!1),[Ne,oe]=g.useState(!1),[jt,pe]=g.useState(!1),[J,be]=g.useState({plan:"",plan_expiry:""}),[At,Ce]=g.useState(!1),[Se,ze]=g.useState({billing_email:""}),[xe,Ue]=g.useState(""),[Rt,Oe]=g.useState(!1),[vt,ye]=g.useState(!1),[Mt,_t]=g.useState([]),{isOpen:kt,onOpen:Ft,onClose:He}=ys(),R=localStorage.getItem("tenantId")||"",[Z,ie]=g.useState(null),[Pt,Qe]=g.useState(!1),[Lt,We]=g.useState(null),[$e,Ye]=g.useState(null),[It,Ge]=g.useState([]),[Ve,Xe]=g.useState(""),[Ke,Ee]=g.useState(null),[Y,Je]=g.useState(!!(N!=null&&N.enabled)),p=Es();g.useEffect(()=>{ts().then(o=>u(o.webhook_url||"")),ss().then(s),getReferralInfo().then(mt),getReferralStats().then(ft),getUsage().then(Fe),R&&(W(!0),ns(R).then(o=>{ge(o),re(o||{entity_id:"",sso_url:"",cert:""}),Je(!!(o!=null&&o.enabled))}).finally(()=>W(!1)),$(!0),rs(R).then(o=>{Te(o),be(o)}).finally(()=>$(!1)),oe(!0),os(R).then(o=>{Be(o),ze(o)}).finally(()=>oe(!1)),is(R).then(o=>Ue(o.custom_domain||""))),ae().then(ie)},[R]);const Dt=async()=>{x(!0);try{await as(a),p({title:e("settings.webhookSaved","Webhook URL saved"),status:"success"})}catch(o){p({title:e("error","Error"),description:o.message,status:"error"})}finally{x(!1)}},Tt=async()=>{x(!0);try{await ls(),u(""),p({title:e("settings.webhookDeleted","Webhook URL deleted"),status:"info"})}catch(o){p({title:e("error","Error"),description:o.message,status:"error"})}finally{x(!1)}},Bt=async()=>{x(!0),b(null);try{const o=await cs();b(e("settings.webhookTestSuccess","Success! Response code: {{code}}",{code:o.response_code})),p({title:e("settings.webhookTestSent","Test sent"),status:"success"})}catch(o){b(e("settings.webhookTestFailed","Failed: {{message}}",{message:o.message})),p({title:e("error","Error"),description:o.message,status:"error"})}finally{x(!1)}},we=async o=>{d(!0);try{const A=await ds(o);s(q=>({...q,crm_provider:o,crm_connected:!1})),p({title:e("settings.connectToProvider","Connect to {{provider}}",{provider:o}),description:e("settings.oauthFlow","OAuth flow will start (stub)"),status:"info"})}catch(A){p({title:e("error","Error"),description:A.message,status:"error"})}finally{d(!1)}},Nt=async()=>{d(!0);try{await us(),s(null),p({title:e("settings.disconnected","Disconnected"),status:"info"})}catch(o){p({title:e("error","Error"),description:o.message,status:"error"})}finally{d(!1)}},zt=async()=>{H(!0);try{const o=await exportUserData(),A=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),q=URL.createObjectURL(A);ue(q),p({title:e("settings.dataExported","Data exported"),status:"success"})}catch(o){p({title:e("error","Error"),description:o.message,status:"error"})}finally{H(!1)}},Ut=async()=>{H(!0);try{await deleteAccount(),p({title:e("settings.accountDeleted","Account deleted"),status:"info"})}catch(o){p({title:e("error","Error"),description:o.message,status:"error"})}finally{H(!1)}},Ot=async()=>{_e(!0);try{await useReferralCode(ke),St(!0),p({title:e("settings.referralApplied","Referral applied"),status:"success"})}catch(o){p({title:e("error","Error"),description:o.message,status:"error"})}finally{_e(!1)}},Ht=async()=>{Le(!0);try{await purchaseCredits(Pe),p({title:e("settings.creditsPurchased","Credits purchased"),status:"success"}),getUsage().then(Fe)}catch(o){p({title:e("error","Error"),description:o.message,status:"error"})}finally{Le(!1)}},Qt=async()=>{W(!0);try{R&&(await qe(R,{sso_config:K}),ge(K),me(!1),p({title:e("settings.ssoConfigSaved","SSO config saved"),status:"success"}))}catch(o){p({title:e("error","Error"),description:o.message,status:"error"})}finally{W(!1)}},Wt=async()=>{$(!0);try{R&&(await bs(R,J),Te(J),pe(!1),p({title:e("settings.planUpdated","Plan updated"),status:"success"}))}catch(o){p({title:e("error","Error"),description:o.message,status:"error"})}finally{$(!1)}},$t=async()=>{oe(!0);try{R&&(await Cs(R,Se),Be(Se),Ce(!1),p({title:e("settings.billingInfoUpdated","Billing info updated"),status:"success"}))}catch(o){p({title:e("error","Error"),description:o.message,status:"error"})}finally{oe(!1)}},Yt=async()=>{$(!0);try{const o=await ps(J.plan);o.payhere_url&&(window.location.href=o.payhere_url)}catch(o){p({title:e("error","Error"),description:o.message,status:"error"})}finally{$(!1)}},Gt=async()=>{Oe(!0);try{R&&(await Ss(R,{custom_domain:xe}),ye(!1),p({title:e("settings.customDomainUpdated","Custom domain updated"),status:"success"}))}catch(o){p({title:e("error","Error"),description:o.message,status:"error"})}finally{Oe(!1)}},Vt=async()=>{k(!0);try{const o=await ms();We(o.secret),Ye(o.qr_code),Ge(o.backup_codes||[]),Qe(!0),Ee(null)}catch(o){p({title:e("error","Error"),description:o.message,status:"error"})}finally{k(!1)}},Xt=async()=>{k(!0);try{await fs(Ve),Qe(!1),We(null),Ye(null),Ge([]),Xe(""),Ee(e("settings.2faEnabled","2FA enabled!")),p({title:e("settings.2faEnabled","2FA enabled!"),status:"success"}),ae().then(ie)}catch(o){Ee(e("settings.2faInvalidCode","Invalid code.")),p({title:e("error","Error"),description:o.message,status:"error"})}finally{k(!1)}},Kt=async()=>{k(!0);try{await hs(),p({title:e("settings.2faDisabled","2FA disabled."),status:"info"}),ae().then(ie)}catch(o){p({title:e("error","Error"),description:o.message,status:"error"})}finally{k(!1)}},Jt=async()=>{k(!0);try{const o=await gs();_t(o.backup_codes||[]),Ft(),p({title:e("settings.2faBackupCodesGenerated","Backup codes generated!"),status:"success"}),ae().then(ie)}catch(o){p({title:e("error","Error"),description:o.message,status:"error"})}finally{k(!1)}},Zt=async()=>{W(!0);try{if(R){const o={...N,enabled:!Y};await qe(R,{sso_config:o}),ge(o),Je(!Y),p({title:Y?e("settings.ssoDisabled","SSO disabled"):e("settings.ssoEnabled","SSO enabled"),status:Y?"info":"success"})}}catch(o){p({title:e("error","Error"),description:o.message,status:"error"})}finally{W(!1)}},qt=async()=>{if(R)try{const o=await fetch(`/api/auth/sso/metadata?tenant=${R}`);if(!o.ok)throw new Error(await o.text());const A=await o.text(),q=new Blob([A],{type:"application/xml"}),Ze=URL.createObjectURL(q),ee=document.createElement("a");ee.href=Ze,ee.download=`saml_metadata_${R}.xml`,document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),URL.revokeObjectURL(Ze)}catch(o){p({title:e("error","Error"),description:o.message,status:"error"})}};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex justify-end mb-4",children:t.jsx(je,{to:"/affiliate",children:t.jsx(S,{colorScheme:"blue",variant:"outline",children:"Affiliate Portal"})})}),t.jsxs(v,{bg:D,p:6,borderRadius:"lg",border:"1px",borderColor:T,boxShadow:"md",mb:8,"data-tour":"settings-webhook-section",children:[t.jsx(I,{size:"md",mb:2,"data-tour":"settings-webhook-title",children:e("settings.webhookManagement","Webhook Management")}),t.jsx(C,{fontSize:"sm",color:"gray.600",mb:2,children:e("settings.webhookDescription","Receive real-time notifications in your own systems or Zapier. Enter your webhook URL below.")}),t.jsxs(G,{children:[t.jsx(L,{value:a,onChange:o=>u(o.target.value),placeholder:e("settings.webhookPlaceholder","https://your-webhook-url.com/endpoint")}),t.jsx(S,{colorScheme:"blue",onClick:Dt,isLoading:c,children:e("settings.saveWebhook","Save")}),t.jsx(S,{colorScheme:"red",onClick:Tt,isLoading:c,isDisabled:!a,children:e("settings.deleteWebhook","Delete")}),t.jsx(S,{colorScheme:"green",onClick:Bt,isLoading:c,isDisabled:!a,children:e("settings.testWebhook","Test")})]}),f&&t.jsx(C,{mt:2,children:f})]}),t.jsxs(v,{bg:D,p:6,borderRadius:"lg",border:"1px",borderColor:T,boxShadow:"md",mb:8,children:[t.jsx(I,{size:"md",mb:2,children:e("settings.integrations","Integrations")}),t.jsx(C,{fontSize:"sm",color:"gray.600",mb:2,children:e("settings.integrationsMoved","Integrations have moved to a dedicated page.")}),t.jsx(S,{colorScheme:"blue",as:je,to:"/integrations",children:e("settings.goToIntegrations","Go to Integrations")})]}),t.jsxs(v,{bg:D,p:6,borderRadius:"lg",border:"1px",borderColor:T,boxShadow:"md",mb:8,"data-tour":"settings-crm-section",children:[t.jsx(I,{size:"md",mb:2,"data-tour":"settings-crm-title",children:e("settings.crmEmailIntegration","CRM & Email Integration")}),t.jsx(C,{fontSize:"sm",color:"gray.600",mb:2,children:e("settings.crmEmailDescription","Connect your account to external CRMs (HubSpot, Salesforce) or email marketing tools (Mailchimp) to sync leads and automate campaigns.")}),t.jsx(C,{fontSize:"sm",mb:2,children:e("settings.crmEmailStatus","Status: {{status}}",{status:m?m.crm_connected?`${e("settings.connectedToProvider","Connected to {{provider}}",{provider:m.crm_provider})}`:`${e("settings.notConnected","Not connected")}${m.crm_provider?` (${m.crm_provider})`:""}`:e("settings.notConnected")})}),t.jsxs(G,{children:[t.jsx(S,{colorScheme:"blue",onClick:()=>we("hubspot"),isLoading:h,isDisabled:m==null?void 0:m.crm_connected,children:e("settings.connectHubspot","Connect HubSpot")}),t.jsx(S,{colorScheme:"orange",onClick:()=>we("salesforce"),isLoading:h,isDisabled:m==null?void 0:m.crm_connected,children:e("settings.connectSalesforce","Connect Salesforce")}),t.jsx(S,{colorScheme:"green",onClick:()=>we("mailchimp"),isLoading:h,isDisabled:m==null?void 0:m.email_connected,children:e("settings.connectMailchimp","Connect Mailchimp")}),t.jsx(S,{colorScheme:"red",onClick:Nt,isLoading:h,isDisabled:!(m!=null&&m.crm_connected)&&!(m!=null&&m.email_connected),children:e("settings.disconnect","Disconnect")})]})]}),t.jsxs(v,{bg:D,p:6,borderRadius:"lg",border:"1px",borderColor:T,boxShadow:"md",mb:8,"data-tour":"settings-2fa-section",children:[t.jsx(I,{size:"md",mb:2,"data-tour":"settings-2fa-title",children:e("settings.twoFactorAuth","Two-Factor Authentication (2FA)")}),t.jsx(C,{fontSize:"sm",color:"gray.600",mb:2,children:e("settings.twoFactorAuthDescription","Protect your account with an extra layer of security. Use an authenticator app (Google Authenticator, Authy, etc.).")}),Z!=null&&Z.two_fa_enabled?t.jsxs(t.Fragment,{children:[t.jsx(C,{mb:2,color:"green.600",children:e("settings.2faCurrentlyEnabled","2FA is currently enabled.")}),t.jsx(C,{fontSize:"sm",mb:2,children:e("settings.2faEnabledAt","Enabled at: {{date}}",{date:Z.two_fa_enabled_at||"-"})}),t.jsx(C,{fontSize:"sm",mb:2,children:e("settings.2faBackupCodesRemaining","Backup codes remaining: {{count}}",{count:Z.backup_codes_remaining})}),t.jsxs(G,{children:[t.jsx(S,{colorScheme:"red",onClick:Kt,isLoading:P,children:e("settings.disableTwoFactorAuth","Disable 2FA")}),t.jsx(S,{colorScheme:"blue",onClick:Jt,isLoading:P,children:e("settings.generateBackupCodes","Regenerate Backup Codes")})]})]}):t.jsx(S,{colorScheme:"blue",onClick:Vt,isLoading:P,children:e("settings.enableTwoFactorAuth","Enable 2FA")}),Pt&&t.jsxs(v,{mt:4,children:[t.jsx(C,{mb:2,children:e("settings.twoFactorAuthScan","Scan this QR code in your authenticator app:")}),$e&&t.jsx(Ts,{value:$e,size:180}),t.jsx(C,{mt:2,fontSize:"sm",children:e("settings.twoFactorAuthSecret","Or enter this secret: <b>{{secret}}</b>",{secret:Lt})}),t.jsxs(v,{mt:2,children:[t.jsx(C,{mb:1,children:e("settings.twoFactorAuthEnterCode","Enter code from app:")}),t.jsx("input",{value:Ve,onChange:o=>Xe(o.target.value),placeholder:e("settings.twoFactorAuthCodePlaceholder","123456"),style:{padding:8,border:"1px solid #ccc",borderRadius:4}}),t.jsx(S,{ml:2,colorScheme:"green",onClick:Xt,isLoading:P,children:e("settings.verifyTwoFactorAuth","Verify")})]}),Ke&&t.jsx(C,{mt:2,children:Ke}),t.jsxs(v,{mt:4,children:[t.jsx(C,{mb:2,children:e("settings.backupCodesTitle","Your 2FA Backup Codes")}),t.jsx(et,{align:"stretch",spacing:2,children:It.map((o,A)=>t.jsxs(G,{children:[t.jsx(C,{fontFamily:"mono",fontSize:"lg",children:o}),t.jsx(Ae,{"aria-label":"Copy code",icon:t.jsx(st,{}),size:"sm",onClick:()=>{navigator.clipboard.writeText(o),p({title:e("settings.codeCopied","Code copied!"),status:"success"})}})]},o))})]})]})]}),t.jsxs(js,{isOpen:kt,onClose:He,isCentered:!0,children:[t.jsx(As,{}),t.jsxs(Rs,{children:[t.jsx(vs,{children:e("settings.backupCodesTitle","Your 2FA Backup Codes")}),t.jsx(Ms,{}),t.jsxs(_s,{children:[t.jsx(C,{mb:2,children:e("settings.backupCodesDescription","Store these codes in a safe place. Each code can be used once if you lose access to your authenticator app.")}),t.jsx(et,{align:"stretch",spacing:2,children:Mt.map((o,A)=>t.jsxs(G,{children:[t.jsx(C,{fontFamily:"mono",fontSize:"lg",children:o}),t.jsx(Ae,{"aria-label":"Copy code",icon:t.jsx(st,{}),size:"sm",onClick:()=>{navigator.clipboard.writeText(o),p({title:e("settings.codeCopied","Code copied!"),status:"success"})}})]},o))})]}),t.jsx(ks,{children:t.jsx(S,{onClick:He,children:e("settings.close","Close")})})]})]}),t.jsxs(v,{bg:D,p:6,borderRadius:"lg",border:"1px",borderColor:T,boxShadow:"md",mb:8,"data-tour":"settings-gdpr-section",children:[t.jsx(I,{size:"md",mb:2,"data-tour":"settings-gdpr-title",children:e("settings.gdprPrivacy","GDPR & Privacy")}),t.jsx(C,{fontSize:"sm",color:"gray.600",mb:2,children:e("settings.gdprPrivacyDescription","You can export all your data or request account deletion at any time.")}),t.jsx(S,{colorScheme:"blue",onClick:zt,isLoading:O,mb:2,children:e("settings.exportMyData","Export My Data (JSON)")}),se&&t.jsx("a",{href:se,download:"leadtap_data.json",children:t.jsx(S,{colorScheme:"green",mb:2,children:e("settings.downloadExport","Download Export")})}),t.jsx(S,{colorScheme:"red",onClick:()=>Me(!0),isLoading:O,children:e("settings.deleteMyAccount","Delete My Account")}),he&&t.jsxs(v,{mt:2,children:[t.jsx(C,{color:"red.500",mb:2,children:e("settings.deleteConfirmation","Are you sure? This will permanently delete your account and all data. This action cannot be undone.")}),t.jsx(S,{colorScheme:"red",onClick:Ut,isLoading:O,children:e("settings.yesDeleteMyAccount","Yes, Delete My Account")}),t.jsx(S,{ml:2,onClick:()=>Me(!1),children:e("settings.cancel","Cancel")})]})]}),t.jsxs(v,{bg:D,p:6,borderRadius:"lg",border:"1px",borderColor:T,boxShadow:"md",mb:8,children:[t.jsx(I,{size:"md",mb:2,children:e("settings.referralProgram","Referral Program")}),X&&t.jsxs(t.Fragment,{children:[t.jsx(C,{fontSize:"sm",color:"gray.600",mb:2,children:e("settings.referralShare","Share your referral link to earn credits! Both you and your friends get rewards.")}),t.jsxs(C,{mb:2,children:[t.jsx("b",{children:e("settings.referralLink","Referral Link:")})," ",t.jsx(L,{value:X.referral_link,isReadOnly:!0,w:"60%",display:"inline-block",mr:2}),t.jsx(S,{size:"sm",onClick:()=>{navigator.clipboard.writeText(X.referral_link),p({title:e("settings.copied","Copied"),status:"success"})},children:e("settings.copy","Copy")})]}),t.jsxs(C,{mb:2,children:[t.jsx("b",{children:e("settings.referred","Referred:")})," ",X.referred_count," | ",t.jsx("b",{children:e("settings.credits","Credits:")})," ",X.referral_credits]})]}),ne&&ne.referred&&ne.referred.length>0&&t.jsxs(v,{mt:4,children:[t.jsx(C,{fontWeight:"bold",mb:2,children:e("settings.yourReferrals","Your Referrals:")}),ne.referred.map(o=>t.jsxs(C,{fontSize:"sm",children:[o.email," (",new Date(o.created_at).toLocaleDateString(),") - ",e("settings.credits","Credits:")," ",o.credits]},o.email))]}),!Ct&&t.jsxs(v,{mt:4,children:[t.jsx(C,{fontSize:"sm",mb:1,children:e("settings.haveReferralCode","Have a referral code?")}),t.jsx(L,{value:ke,onChange:o=>bt(o.target.value),placeholder:e("settings.enterReferralCode","Enter referral code"),w:"40%",display:"inline-block",mr:2}),t.jsx(S,{size:"sm",colorScheme:"blue",onClick:Ot,isLoading:pt,children:e("settings.applyReferral","Apply")})]})]}),t.jsxs(v,{bg:D,p:6,borderRadius:"lg",border:"1px",borderColor:T,boxShadow:"md",mb:8,"data-tour":"settings-usage-section",children:[t.jsx(I,{size:"md",mb:2,"data-tour":"settings-usage-title",children:e("settings.usageBilling","Usage & Billing")}),Q&&t.jsxs(t.Fragment,{children:[t.jsxs(C,{mb:2,children:[t.jsx("b",{children:e("settings.plan","Plan:")})," ",Q.plan]}),t.jsxs(C,{mb:2,children:[t.jsx("b",{children:e("settings.jobsToday","Jobs Today:")})," ",Q.jobs_today," / ",Q.max_queries_per_day]}),t.jsxs(C,{mb:2,children:[t.jsx("b",{children:e("settings.usageCredits","Usage Credits:")})," ",Q.usage_credits," | ",t.jsx("b",{children:e("settings.referralCredits","Referral Credits:")})," ",Q.referral_credits]}),t.jsxs(G,{mt:2,children:[t.jsx(L,{type:"number",value:Pe,min:1,onChange:o=>xt(Number(o.target.value)),w:"120px"}),t.jsx(S,{colorScheme:"blue",onClick:Ht,isLoading:yt,children:e("settings.purchaseCredits","Purchase Credits")})]})]})]}),t.jsxs(v,{bg:D,p:6,borderRadius:"lg",border:"1px",borderColor:T,boxShadow:"md",mb:8,"data-tour":"settings-sso-section",children:[t.jsx(I,{size:"md",mb:2,"data-tour":"settings-sso-title",children:e("settings.ssoSamlConfig","SSO/SAML Configuration")}),Ie?t.jsx(C,{children:e("settings.loading","Loading...")}):t.jsxs(t.Fragment,{children:[t.jsx(S,{onClick:Zt,colorScheme:Y?"red":"green",mb:2,children:Y?e("settings.disableSso","Disable SSO"):e("settings.enableSso","Enable SSO")}),t.jsx(S,{onClick:qt,colorScheme:"blue",mb:2,ml:2,children:e("settings.downloadSsoMetadata","Download SAML Metadata")}),Et?t.jsxs(t.Fragment,{children:[t.jsx(L,{placeholder:e("settings.ssoEntityIdPlaceholder","Entity ID"),value:K.entity_id,onChange:o=>re(A=>({...A,entity_id:o.target.value})),mb:2}),t.jsx(L,{placeholder:e("settings.ssoSsoUrlPlaceholder","SSO URL"),value:K.sso_url,onChange:o=>re(A=>({...A,sso_url:o.target.value})),mb:2}),t.jsx(L,{placeholder:e("settings.ssoCertificatePlaceholder","Certificate"),value:K.cert,onChange:o=>re(A=>({...A,cert:o.target.value})),mb:2}),t.jsx(S,{colorScheme:"blue",onClick:Qt,isLoading:Ie,children:e("settings.save","Save")}),t.jsx(S,{ml:2,onClick:()=>me(!1),children:e("settings.cancel","Cancel")})]}):t.jsxs(t.Fragment,{children:[t.jsx(C,{children:e("settings.ssoEntityId","Entity ID: {{id}}",{id:N.entity_id||"-"})}),t.jsx(C,{children:e("settings.ssoSsoUrl","SSO URL: {{url}}",{url:N.sso_url||"-"})}),t.jsx(C,{children:e("settings.ssoCertificate","Certificate: {{cert}}",{cert:N.cert?"[set]":"-"})}),t.jsx(S,{mt:2,onClick:()=>me(!0),children:e("settings.edit","Edit")})]})]})]}),t.jsxs(v,{bg:D,p:6,borderRadius:"lg",border:"1px",borderColor:T,boxShadow:"md",mb:8,children:[t.jsx(I,{size:"md",mb:2,children:e("settings.planBilling","Plan & Billing")}),fe?t.jsx(C,{children:e("settings.loading","Loading...")}):t.jsx(t.Fragment,{children:jt?t.jsxs(t.Fragment,{children:[t.jsx(L,{placeholder:e("settings.planPlaceholder","Plan"),value:J.plan,onChange:o=>be(A=>({...A,plan:o.target.value})),mb:2}),t.jsx(L,{placeholder:e("settings.planExpiryPlaceholder","Expiry"),value:J.plan_expiry,onChange:o=>be(A=>({...A,plan_expiry:o.target.value})),mb:2}),t.jsx(S,{colorScheme:"blue",onClick:Wt,isLoading:fe,children:e("settings.save","Save")}),t.jsx(S,{ml:2,onClick:()=>pe(!1),children:e("settings.cancel","Cancel")})]}):t.jsxs(t.Fragment,{children:[t.jsx(C,{children:e("settings.currentPlan","Current Plan: {{plan}}",{plan:De.plan||"-"})}),t.jsx(C,{children:e("settings.planExpiry","Expiry: {{expiry}}",{expiry:De.plan_expiry||"-"})}),t.jsx(S,{mt:2,onClick:()=>pe(!0),children:e("settings.changePlan","Change Plan")}),t.jsx(S,{mt:2,colorScheme:"green",onClick:Yt,isLoading:fe,children:e("settings.upgradePlan","Upgrade Plan (PayHere)")})]})}),t.jsxs(v,{mt:6,children:[t.jsx(I,{size:"sm",mb:2,children:e("settings.billingInfo","Billing Info")}),Ne?t.jsx(C,{children:e("settings.loading","Loading...")}):t.jsx(t.Fragment,{children:At?t.jsxs(t.Fragment,{children:[t.jsx(L,{placeholder:e("settings.billingEmailPlaceholder","Billing Email"),value:Se.billing_email,onChange:o=>ze(A=>({...A,billing_email:o.target.value})),mb:2}),t.jsx(S,{colorScheme:"blue",onClick:$t,isLoading:Ne,children:e("settings.save","Save")}),t.jsx(S,{ml:2,onClick:()=>Ce(!1),children:e("settings.cancel","Cancel")})]}):t.jsxs(t.Fragment,{children:[t.jsx(C,{children:e("settings.billingEmail","Email: {{email}}",{email:wt.billing_email||"-"})}),t.jsx(S,{mt:2,onClick:()=>Ce(!0),children:e("settings.editBilling","Edit Billing")})]})})]})]}),t.jsxs(v,{bg:D,p:6,borderRadius:"lg",border:"1px",borderColor:T,boxShadow:"md",mb:8,"data-tour":"settings-custom-domain-section",children:[t.jsx(I,{size:"md",mb:2,"data-tour":"settings-custom-domain-title",children:e("settings.customDomain","Custom Domain (White-Label)")}),vt?t.jsxs(t.Fragment,{children:[t.jsx(L,{placeholder:e("settings.customDomainPlaceholder","your.customdomain.com"),value:xe,onChange:o=>Ue(o.target.value),mb:2}),t.jsx(S,{colorScheme:"blue",onClick:Gt,isLoading:Rt,children:e("settings.save","Save")}),t.jsx(S,{ml:2,onClick:()=>ye(!1),children:e("settings.cancel","Cancel")})]}):t.jsxs(t.Fragment,{children:[t.jsx(C,{children:e("settings.currentDomain","Current Domain: {{domain}}",{domain:xe||"-"})}),t.jsx(S,{mt:2,onClick:()=>ye(!0),children:e("settings.setChangeDomain","Set/Change Domain")})]}),t.jsx(C,{mt:4,fontSize:"sm",color:"gray.500",children:e("settings.customDomainDescription","To use a custom domain, point your DNS CNAME to our platform and enter your domain above. SSL will be automatically provisioned.")})]}),t.jsx(v,{bg:D,p:6,borderRadius:"lg",border:"1px",borderColor:T,boxShadow:"md",mb:8,"data-tour":"settings-audit-section",children:t.jsx(S,{as:je,to:"/audit-log",colorScheme:"gray",mb:2,"data-tour":"settings-audit-btn",children:e("settings.viewActivityHistory","View Activity History")})})]})}export{Vs as default};
//# sourceMappingURL=Settings-cRHVUIhO.js.map
