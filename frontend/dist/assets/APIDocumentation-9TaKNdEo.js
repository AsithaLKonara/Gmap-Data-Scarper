import{j as e,u as K,r}from"./index-cuttc60L.js";import{a as I,b as Y,u as $,V as H,F as k,I as A,A as V,c as G,d as X,e as Q}from"./use-toast-DpWWrysv.js";import{f as O,u as Z,c as L,a as q,d as R}from"./use-style-config-BvA8OEwb.js";import{o as ee,S as se,B as te,a as T}from"./button-D-CbrSAB.js";import{M as ae,a as re,b as oe,c as ne,d as le,e as ie,f as ce}from"./modal-overlay-lpV3bALa.js";import{S as de}from"./select-DjjoEe5c.js";import"./icon-BANxJJXO.js";import"./motion-OoEXE3Ue.js";const N=O(function(c,u){const l=Z("FormLabel",c),d=ee(c),{className:g,children:f,requiredIndicator:o=e.jsx(U,{}),optionalIndicator:w=null,...b}=d,m=I(),h=(m==null?void 0:m.getLabelProps(b,u))??{ref:u,...b};return e.jsxs(L.label,{...h,className:q("chakra-form__label",d.className),__css:{display:"block",textAlign:"start",...l},children:[f,m!=null&&m.isRequired?o:w]})});N.displayName="FormLabel";const U=O(function(c,u){const l=I(),d=Y();if(!(l!=null&&l.isRequired))return null;const g=q("chakra-form__required-indicator",c.className);return e.jsx(L.span,{...l==null?void 0:l.getRequiredIndicatorProps(c,u),__css:d.requiredIndicator,className:g})});U.displayName="RequiredIndicator";const je=()=>{const{t:s}=K(),[c,u]=r.useState("sk_live_..."),[l,d]=r.useState(!1),[g,f]=r.useState(!1),[o,w]=r.useState(null),[b,m]=r.useState(""),[h,W]=r.useState([]),[_,me]=r.useState([]),[M,D]=r.useState(!1),[v,F]=r.useState(null),[B,C]=r.useState(!0),[S,P]=r.useState(null),y=$();R("white","gray.800"),R("gray.200","gray.700"),r.useEffect(()=>{async function t(){C(!0),P(null);try{const a=await fetch("/openapi.json");if(!a.ok)throw new Error(await a.text());const i=await a.json();F(i)}catch(a){P(a.message||"Failed to load OpenAPI spec")}finally{C(!1)}}t()},[]),r.useEffect(()=>{async function t(){}t()},[]);const j=t=>{navigator.clipboard.writeText(t),y({title:"Copied",description:"Code copied to clipboard",status:"success",duration:2e3})},J=async t=>{D(!0);try{await new Promise(i=>setTimeout(i,1e3));const a={id:Date.now().toString(),name:t.name,url:t.url,events:t.events,status:"active",successRate:100};W([...h,a]),d(!1),y({title:"Webhook Created",description:"Webhook has been created successfully",status:"success",duration:3e3})}catch{y({title:"Error",description:"Failed to create webhook",status:"error",duration:3e3})}finally{D(!1)}},p=t=>{switch(t){case"GET":return"green";case"POST":return"blue";case"PUT":return"yellow";case"DELETE":return"red";default:return"gray"}},E=t=>{switch(t){case"active":return"green";case"inactive":return"gray";case"error":return"red";default:return"gray"}};return e.jsxs("div",{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg border bg-white dark:bg-gray-900 p-6 shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-lg font-bold",children:"API Key"}),e.jsxs("button",{className:"inline-flex items-center px-3 py-2 rounded-md bg-primary text-primary-foreground font-medium hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 text-sm",onClick:()=>j(c),children:[e.jsx("span",{className:"mr-2",children:"ðŸ“‹"}),"Copy Key"]})]}),e.jsx("div",{className:"p-4 bg-gray-50 rounded font-mono text-sm",children:c}),e.jsxs("span",{className:"text-sm text-gray-600 mt-2 block",children:["Use this API key in the Authorization header: ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"Authorization: Bearer YOUR_API_KEY"})]})]}),e.jsxs("div",{className:"rounded-lg border bg-white dark:bg-gray-900 p-6 shadow mb-8",children:[e.jsx("span",{className:"text-lg font-bold mb-4 block",children:"Usage Examples & Postman Collection"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"font-semibold block mb-2",children:"cURL Example"}),e.jsx("pre",{className:"bg-gray-100 rounded p-2 text-xs overflow-x-auto",children:'curl -X GET "https://api.leadtap.com/api/jobs" -H "Authorization: Bearer YOUR_API_KEY"'})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"font-semibold block mb-2",children:"JavaScript (fetch) Example"}),e.jsx("pre",{className:"bg-gray-100 rounded p-2 text-xs overflow-x-auto",children:`
fetch('https://api.leadtap.com/api/jobs', {
  headers: { 'Authorization': 'Bearer YOUR_API_KEY' }
})
  .then(res => res.json())
  .then(data => console.log(data));
`})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"font-semibold block mb-2",children:"Postman Collection"}),e.jsx("a",{href:"/docs/LeadTap-API-Postman-Collection.json",download:!0,className:"inline-flex items-center px-3 py-2 rounded-md bg-primary text-primary-foreground font-medium hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 text-sm",children:"Download Postman Collection"}),e.jsx("span",{className:"block text-xs text-gray-500 mt-1",children:"Import this collection into Postman to explore and test the API."})]})]}),e.jsxs("div",{className:"rounded-lg border bg-white dark:bg-gray-900 p-6 shadow",children:[e.jsx("span",{className:"text-lg font-bold mb-4 block",children:"API Endpoints"}),B?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(se,{size:"xl"})}):S?e.jsx("div",{className:"text-red-500",children:S}):v?e.jsx("div",{children:Object.entries(v.paths).length===0?e.jsx("div",{className:"text-gray-500",children:"No endpoints found in OpenAPI spec."}):e.jsx("div",{children:Object.entries(v.paths).map(([t,a])=>e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"font-mono text-blue-700 text-sm mb-1",children:t}),Object.entries(a).map(([i,n])=>e.jsxs("div",{className:"mb-2 pl-4 border-l-2 border-blue-200",children:[e.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-bold mr-2 ${p(i.toUpperCase())==="green"?"bg-green-100 text-green-700":p(i.toUpperCase())==="blue"?"bg-blue-100 text-blue-700":p(i.toUpperCase())==="yellow"?"bg-yellow-100 text-yellow-700":p(i.toUpperCase())==="red"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:i.toUpperCase()}),e.jsx("span",{className:"font-semibold",children:n.summary||n.operationId}),n.description&&e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:n.description}),n.parameters&&n.parameters.length>0&&e.jsxs("div",{className:"mt-1",children:[e.jsx("span",{className:"font-bold text-xs",children:"Parameters:"}),e.jsx("ul",{className:"ml-4 list-disc text-xs",children:n.parameters.map(x=>e.jsxs("li",{children:[e.jsx("span",{className:"font-mono",children:x.name})," ",e.jsxs("span",{className:"text-gray-500",children:["(",x.in,")"]}),": ",x.description]},x.name))})]}),n.requestBody&&e.jsxs("div",{className:"mt-1",children:[e.jsx("span",{className:"font-bold text-xs",children:"Request Body:"}),e.jsx("pre",{className:"bg-gray-100 rounded p-2 text-xs overflow-x-auto",children:JSON.stringify(n.requestBody.content,null,2)})]}),n.responses&&e.jsxs("div",{className:"mt-1",children:[e.jsx("span",{className:"font-bold text-xs",children:"Responses:"}),e.jsx("ul",{className:"ml-4 list-disc text-xs",children:Object.entries(n.responses).map(([x,z])=>e.jsxs("li",{children:[e.jsx("span",{className:"font-mono",children:x}),": ",z.description]},x))})]})]},i))]},t))})}):null]}),e.jsxs("div",{className:"rounded-lg border bg-white dark:bg-gray-900 p-6 shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-lg font-bold",children:s("apiDocs.webhooks","Webhooks")}),e.jsx("button",{className:"inline-flex items-center px-3 py-2 rounded-md bg-primary text-primary-foreground font-medium hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 text-sm",onClick:()=>d(!0),children:s("apiDocs.createWebhook","Create Webhook")})]}),h.length===0?e.jsx("span",{className:"text-gray-500",children:s("apiDocs.noWebhooksConfigured","No webhooks configured yet.")}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm border-separate border-spacing-y-2",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-1 font-medium text-gray-700 text-left",children:s("apiDocs.name","Name")}),e.jsx("th",{className:"px-2 py-1 font-medium text-gray-700 text-left",children:s("apiDocs.url","URL")}),e.jsx("th",{className:"px-2 py-1 font-medium text-gray-700 text-left",children:s("apiDocs.events","Events")}),e.jsx("th",{className:"px-2 py-1 font-medium text-gray-700 text-left",children:s("apiDocs.status","Status")}),e.jsx("th",{className:"px-2 py-1 font-medium text-gray-700 text-left",children:s("apiDocs.successRate","Success Rate")}),e.jsx("th",{className:"px-2 py-1 font-medium text-gray-700 text-left",children:s("apiDocs.lastTriggered","Last Triggered")}),e.jsx("th",{className:"px-2 py-1 font-medium text-gray-700 text-left",children:s("apiDocs.actions","Actions")})]})}),e.jsx("tbody",{children:h.map(t=>e.jsxs("tr",{className:"even:bg-gray-50",children:[e.jsx("td",{className:"px-2 py-1",children:t.name}),e.jsx("td",{className:"px-2 py-1 max-w-[200px] truncate text-xs",children:t.url}),e.jsx("td",{className:"px-2 py-1",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:t.events.map(a=>e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-blue-100 text-blue-700 text-xs font-semibold",children:a},a))})}),e.jsx("td",{className:"px-2 py-1",children:e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold ${E(t.status)==="green"?"bg-green-100 text-green-700":E(t.status)==="red"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:t.status})}),e.jsxs("td",{className:"px-2 py-1",children:[t.successRate,"%"]}),e.jsx("td",{className:"px-2 py-1 text-xs",children:t.lastTriggered?new Date(t.lastTriggered).toLocaleString():"Never"}),e.jsx("td",{className:"px-2 py-1",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{"aria-label":s("apiDocs.edit","Edit"),className:"p-1 rounded hover:bg-gray-200",title:s("apiDocs.edit","Edit"),children:e.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{d:"M15.232 5.232l3.536 3.536M9 13l6-6 3 3-6 6H9v-3z"})})}),e.jsx("button",{"aria-label":s("apiDocs.delete","Delete"),className:"p-1 rounded hover:bg-gray-200",title:s("apiDocs.delete","Delete"),children:e.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:e.jsx("path",{d:"M3 6h18M9 6v12a2 2 0 002 2h2a2 2 0 002-2V6"})})})]})})]},t.id))})]})})]}),e.jsxs("div",{className:"rounded-lg border bg-white dark:bg-gray-900 p-6 shadow",children:[e.jsx("span",{className:"text-lg font-bold mb-4 block",children:s("apiDocs.integrations","Integrations")}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(t=>e.jsxs("div",{className:"p-4 border rounded-md hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-lg",children:t.logo}),e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold ${t.status==="available"?"bg-green-100 text-green-700":t.status==="coming_soon"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:t.status})]}),e.jsx("span",{className:"font-medium block mb-1",children:t.name}),e.jsx("span",{className:"text-sm text-gray-600 block mb-3",children:t.description}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-gray-100 text-gray-700 text-xs font-semibold mb-3",children:t.category}),t.setupUrl&&t.status==="available"&&e.jsx("button",{className:"inline-flex items-center px-3 py-2 rounded-md bg-primary text-primary-foreground font-medium hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 text-sm",onClick:()=>window.open(t.setupUrl,"_blank"),children:s("apiDocs.setup","Setup")})]},t.name))})]}),e.jsxs("div",{className:"rounded-lg border bg-white dark:bg-gray-900 p-6 shadow",children:[e.jsx("span",{className:"text-lg font-bold mb-4 block",children:s("apiDocs.sdksLibraries","SDKs & Libraries")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-md",children:[e.jsx("span",{className:"font-medium block mb-2",children:s("apiDocs.javascriptNodejs","JavaScript/Node.js")}),e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded font-mono text-sm block",children:"npm install leadtap-sdk"}),e.jsx("button",{className:"inline-flex items-center px-3 py-2 rounded-md bg-primary text-primary-foreground font-medium hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 text-sm mt-2",onClick:()=>j("npm install leadtap-sdk"),children:s("apiDocs.copy","Copy")})]}),e.jsxs("div",{className:"p-4 border rounded-md",children:[e.jsx("span",{className:"font-medium block mb-2",children:s("apiDocs.python","Python")}),e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded font-mono text-sm block",children:"pip install leadtap-python"}),e.jsx("button",{className:"inline-flex items-center px-3 py-2 rounded-md bg-primary text-primary-foreground font-medium hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 text-sm mt-2",onClick:()=>j("pip install leadtap-python"),children:s("apiDocs.copy","Copy")})]}),e.jsxs("div",{className:"p-4 border rounded-md",children:[e.jsx("span",{className:"font-medium block mb-2",children:s("apiDocs.php","PHP")}),e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded font-mono text-sm block",children:"composer require leadtap/php-sdk"}),e.jsx("button",{className:"inline-flex items-center px-3 py-2 rounded-md bg-primary text-primary-foreground font-medium hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 text-sm mt-2",onClick:()=>j("composer require leadtap/php-sdk"),children:s("apiDocs.copy","Copy")})]}),e.jsxs("div",{className:"p-4 border rounded-md",children:[e.jsx("span",{className:"font-medium block mb-2",children:s("apiDocs.postmanCollection","Postman Collection")}),e.jsx("button",{className:"inline-flex items-center px-3 py-2 rounded-md bg-primary text-primary-foreground font-medium hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 text-sm mt-2",children:s("apiDocs.download","Download")})]})]})]})]}),g&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg w-full max-w-xl mx-4 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-lg font-bold",children:s("apiDocs.testApiEndpoint","Test API Endpoint")}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:"Ã—"})]}),e.jsx("div",{className:"px-6 py-4 space-y-4",children:o&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold ${p(o.method)==="green"?"bg-green-100 text-green-700":p(o.method)==="blue"?"bg-blue-100 text-blue-700":p(o.method)==="yellow"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:o.method}),e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded font-mono text-xs",children:o.path})]}),e.jsx("span",{className:"text-sm text-gray-600 block",children:o.description}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("apiDocs.requestUrl","Request URL")}),e.jsx("input",{value:`https://api.leadtap.com${o.path}`,readOnly:!0,className:"w-full rounded-md border border-gray-300 p-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("apiDocs.headers","Headers")}),e.jsx("textarea",{value:`Authorization: Bearer ${c}
Content-Type: application/json`,readOnly:!0,rows:3,className:"w-full rounded-md border border-gray-300 p-2 text-sm font-mono focus:ring-2 focus:ring-primary focus:border-primary"})]}),o.method==="POST"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("apiDocs.requestBody","Request Body")}),e.jsx("textarea",{placeholder:s("apiDocs.enterJsonPayload","Enter JSON payload..."),rows:5,className:"w-full rounded-md border border-gray-300 p-2 text-sm font-mono focus:ring-2 focus:ring-primary focus:border-primary"})]}),e.jsx("button",{className:"inline-flex items-center px-4 py-2 rounded-md bg-primary text-primary-foreground font-medium hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",onClick:()=>{m('{"status": "success", "message": "Test completed successfully"}'),y({title:s("apiDocs.testCompleted","Test Completed"),description:s("apiDocs.apiCallSuccess","API call was successful"),status:"success",duration:3e3})},children:s("apiDocs.sendTestRequest","Send Test Request")}),b&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("apiDocs.response","Response")}),e.jsx("textarea",{value:b,readOnly:!0,rows:5,className:"w-full rounded-md border border-gray-300 p-2 text-sm font-mono focus:ring-2 focus:ring-primary focus:border-primary"})]})]})}),e.jsx("div",{className:"flex items-center justify-end px-6 py-4 border-t border-gray-200 dark:border-gray-700 space-x-2",children:e.jsx("button",{onClick:()=>f(!1),className:"inline-flex items-center px-4 py-2 rounded-md bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-200 font-medium",children:s("apiDocs.close","Close")})})]})}),e.jsxs(ae,{isOpen:l,onClose:()=>d(!1),children:[e.jsx(re,{}),e.jsxs(oe,{children:[e.jsx(ne,{children:s("apiDocs.createWebhook","Create Webhook")}),e.jsx(le,{}),e.jsx(ie,{children:e.jsxs(H,{spacing:4,children:[e.jsxs(k,{children:[e.jsx(N,{children:s("apiDocs.webhookName","Webhook Name")}),e.jsx(A,{placeholder:s("apiDocs.webhookNamePlaceholder","e.g., Job Completion Notifications")})]}),e.jsxs(k,{children:[e.jsx(N,{children:s("apiDocs.webhookUrl","Webhook URL")}),e.jsx(A,{placeholder:s("apiDocs.webhookUrlPlaceholder","https://your-app.com/webhooks/leadtap")})]}),e.jsxs(k,{children:[e.jsx(N,{children:s("apiDocs.events","Events")}),e.jsxs(de,{placeholder:s("apiDocs.selectEvents","Select events"),children:[e.jsx("option",{value:"job.completed",children:s("apiDocs.jobCompleted","Job Completed")}),e.jsx("option",{value:"job.failed",children:s("apiDocs.jobFailed","Job Failed")}),e.jsx("option",{value:"lead.exported",children:s("apiDocs.leadExported","Lead Exported")}),e.jsx("option",{value:"lead.added_to_crm",children:s("apiDocs.leadAddedToCrm","Lead Added to CRM")})]})]}),e.jsxs(V,{status:"info",children:[e.jsx(G,{}),e.jsxs(te,{children:[e.jsx(X,{children:s("apiDocs.webhookFormat","Webhook Format")}),e.jsx(Q,{children:s("apiDocs.webhookFormatDescription","Webhooks will send POST requests with JSON payloads to your specified URL.")})]})]})]})}),e.jsxs(ce,{children:[e.jsx(T,{variant:"ghost",mr:3,onClick:()=>d(!1),children:s("apiDocs.cancel","Cancel")}),e.jsx(T,{colorScheme:"blue",onClick:()=>J({name:"Test",url:"https://test.com",events:["job.completed"]}),isLoading:M,children:s("apiDocs.createWebhook","Create Webhook")})]})]})]})]})};export{je as default};
//# sourceMappingURL=APIDocumentation-9TaKNdEo.js.map
