{"version":3,"file":"Webhooks-CocXmk4S.js","sources":["../../src/pages/Webhooks.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Dialog } from '../components/ui/dialog';\nimport { Button } from '../components/ui/button';\nimport { Input } from '../components/ui/input';\nimport { toast } from '../hooks/use-toast';\nimport { Copy } from 'lucide-react';\n\ninterface Webhook {\n  id: number;\n  url: string;\n  event: string;\n  is_active: boolean;\n  secret?: string;\n  last_delivery_status?: string;\n  last_delivery_at?: string;\n  created_at: string;\n  updated_at?: string;\n}\n\nconst EVENT_OPTIONS = [\n  { value: 'job.completed', label: 'Job Completed' },\n  { value: 'lead.created', label: 'Lead Created' },\n];\n\nconst Webhooks: React.FC = () => {\n  const [webhooks, setWebhooks] = useState<Webhook[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [editing, setEditing] = useState<Webhook | null>(null);\n  const [form, setForm] = useState({ url: '', event: EVENT_OPTIONS[0].value, secret: '' });\n  const [logModalOpen, setLogModalOpen] = useState(false);\n  const [logWebhook, setLogWebhook] = useState<Webhook | null>(null);\n  const [deliveryLog, setDeliveryLog] = useState<any[]>([]);\n  const [testLoading, setTestLoading] = useState<number | null>(null);\n\n  const fetchWebhooks = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch('/api/webhooks/', { headers: { 'Authorization': `Bearer ${localStorage.getItem('token')}` } });\n      const data = await res.json();\n      setWebhooks(data);\n    } catch (e) {\n      toast({ title: 'Error', description: 'Failed to load webhooks', status: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => { fetchWebhooks(); }, []);\n\n  const handleOpenModal = (wh?: Webhook) => {\n    setEditing(wh || null);\n    setForm(wh ? { url: wh.url, event: wh.event, secret: wh.secret || '' } : { url: '', event: EVENT_OPTIONS[0].value, secret: '' });\n    setModalOpen(true);\n  };\n\n  const handleSave = async () => {\n    if (!form.url) return toast({ title: 'URL required', status: 'error' });\n    setLoading(true);\n    try {\n      const method = editing ? 'PUT' : 'POST';\n      const url = editing ? `/api/webhooks/${editing.id}` : '/api/webhooks/';\n      const res = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({ ...form })\n      });\n      if (!res.ok) throw new Error(await res.text());\n      setModalOpen(false);\n      fetchWebhooks();\n      toast({ title: editing ? 'Webhook updated' : 'Webhook created', status: 'success' });\n    } catch (e: any) {\n      toast({ title: 'Error', description: e.message, status: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDelete = async (id: number) => {\n    if (!window.confirm('Delete this webhook?')) return;\n    setLoading(true);\n    try {\n      const res = await fetch(`/api/webhooks/${id}`, {\n        method: 'DELETE',\n        headers: { 'Authorization': `Bearer ${localStorage.getItem('token')}` }\n      });\n      if (!res.ok) throw new Error(await res.text());\n      fetchWebhooks();\n      toast({ title: 'Webhook deleted', status: 'success' });\n    } catch (e: any) {\n      toast({ title: 'Error', description: e.message, status: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleToggleActive = async (wh: Webhook) => {\n    setLoading(true);\n    try {\n      const res = await fetch(`/api/webhooks/${wh.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({ is_active: !wh.is_active })\n      });\n      if (!res.ok) throw new Error(await res.text());\n      fetchWebhooks();\n      toast({ title: `Webhook ${!wh.is_active ? 'enabled' : 'disabled'}`, status: 'success' });\n    } catch (e: any) {\n      toast({ title: 'Error', description: e.message, status: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleTest = async (wh: Webhook) => {\n    setTestLoading(wh.id);\n    try {\n      const res = await fetch('/api/webhooks/test', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({ webhook_id: wh.id })\n      });\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.detail || data.message || 'Test failed');\n      toast({ title: 'Test sent', description: data.message || 'Webhook test sent', status: 'success' });\n    } catch (e: any) {\n      toast({ title: 'Error', description: e.message, status: 'error' });\n    } finally {\n      setTestLoading(null);\n    }\n  };\n\n  const handleViewLog = async (wh: Webhook) => {\n    setLogModalOpen(true);\n    setLogWebhook(wh);\n    setDeliveryLog([]);\n    try {\n      const res = await fetch(`/api/webhooks/${wh.id}/delivery-log`, {\n        headers: { 'Authorization': `Bearer ${localStorage.getItem('token')}` }\n      });\n      const data = await res.json();\n      setDeliveryLog(data);\n    } catch (e) {\n      setDeliveryLog([]);\n    }\n  };\n\n  return (\n    <div className=\"max-w-3xl mx-auto py-8 px-4\">\n      <h1 className=\"text-2xl font-bold mb-6\">Webhooks</h1>\n      <div className=\"mb-4 flex justify-end\">\n        <Button onClick={() => handleOpenModal()}>Add Webhook</Button>\n      </div>\n      <div className=\"bg-white rounded shadow p-4\">\n        {loading ? <div>Loading...</div> : (\n          <table className=\"min-w-full text-sm\">\n            <thead>\n              <tr>\n                <th className=\"text-left py-2\">Event</th>\n                <th className=\"text-left py-2\">URL</th>\n                <th className=\"text-left py-2\">Status</th>\n                <th className=\"text-left py-2\">Last Delivery</th>\n                <th className=\"text-left py-2\">Secret</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              {webhooks.map(wh => (\n                <tr key={wh.id} className=\"border-t\">\n                  <td className=\"py-2\">{EVENT_OPTIONS.find(e => e.value === wh.event)?.label || wh.event}</td>\n                  <td className=\"py-2\">{wh.url}</td>\n                  <td className=\"py-2 flex items-center gap-2\">\n                    <span>{wh.is_active ? 'Active' : 'Inactive'}</span>\n                    <Button size=\"sm\" variant=\"outline\" onClick={() => handleToggleActive(wh)} disabled={loading}>\n                      {wh.is_active ? 'Disable' : 'Enable'}\n                    </Button>\n                  </td>\n                  <td className=\"py-2\">\n                    {wh.last_delivery_status || '-'} {wh.last_delivery_at ? (<span className=\"text-xs text-gray-500\">({new Date(wh.last_delivery_at).toLocaleString()})</span>) : null}\n                    <Button size=\"sm\" variant=\"outline\" className=\"ml-2\" onClick={() => handleViewLog(wh)}>View Log</Button>\n                  </td>\n                  <td className=\"py-2 flex items-center gap-2\">\n                    {wh.secret ? (\n                      <>\n                        <span className=\"font-mono text-xs\">{wh.secret}</span>\n                        <button onClick={() => {navigator.clipboard.writeText(wh.secret || ''); toast({ title: 'Copied', status: 'success' });}}><Copy size={14} /></button>\n                      </>\n                    ) : <span className=\"text-xs text-gray-400\">None</span>}\n                  </td>\n                  <td className=\"py-2 flex gap-2\">\n                    <Button size=\"sm\" variant=\"outline\" onClick={() => handleOpenModal(wh)}>Edit</Button>\n                    <Button size=\"sm\" variant=\"destructive\" onClick={() => handleDelete(wh.id)}>Delete</Button>\n                    <Button size=\"sm\" variant=\"outline\" onClick={() => handleTest(wh)} disabled={testLoading === wh.id}>{testLoading === wh.id ? 'Testing...' : 'Test'}</Button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n      <div className=\"mt-4 text-xs text-gray-500\">\n        <strong>Signature:</strong> If you set a secret, each webhook request will include an <code>X-Webhook-Signature</code> header (HMAC SHA256 of the body).\n      </div>\n      <Dialog open={modalOpen} onOpenChange={setModalOpen}>\n        <div className=\"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-40\">\n          <div className=\"bg-white rounded-lg shadow-lg max-w-md w-full p-6 relative\">\n            <button className=\"absolute top-2 right-2 text-gray-400 hover:text-gray-600 text-2xl font-bold\" onClick={() => setModalOpen(false)} aria-label=\"Close\">&times;</button>\n            <h2 className=\"text-xl font-bold mb-4\">{editing ? 'Edit Webhook' : 'Add Webhook'}</h2>\n            <div className=\"flex flex-col gap-3\">\n              <label className=\"text-sm font-medium\">Event</label>\n              <select className=\"border rounded px-2 py-1\" value={form.event} onChange={e => setForm(f => ({ ...f, event: e.target.value }))}>\n                {EVENT_OPTIONS.map(opt => <option key={opt.value} value={opt.value}>{opt.label}</option>)}\n              </select>\n              <label className=\"text-sm font-medium\">Webhook URL</label>\n              <Input value={form.url} onChange={e => setForm(f => ({ ...f, url: e.target.value }))} placeholder=\"https://yourapp.com/webhook\" />\n              <label className=\"text-sm font-medium\">Secret (optional)</label>\n              <Input value={form.secret} onChange={e => setForm(f => ({ ...f, secret: e.target.value }))} placeholder=\"Secret for signing (optional)\" />\n            </div>\n            <div className=\"flex justify-end gap-2 mt-6\">\n              <Button variant=\"outline\" onClick={() => setModalOpen(false)} disabled={loading}>Cancel</Button>\n              <Button onClick={handleSave} disabled={loading}>{editing ? 'Update' : 'Create'}</Button>\n            </div>\n          </div>\n        </div>\n      </Dialog>\n      {/* Delivery Log Modal */}\n      {logModalOpen && logWebhook && (\n        <div className=\"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-40\">\n          <div className=\"bg-white rounded-lg shadow-lg max-w-md w-full p-6 relative\">\n            <button className=\"absolute top-2 right-2 text-gray-400 hover:text-gray-600 text-2xl font-bold\" onClick={() => setLogModalOpen(false)} aria-label=\"Close\">&times;</button>\n            <h2 className=\"text-xl font-bold mb-4\">Delivery Log</h2>\n            {deliveryLog.length === 0 ? <div className=\"text-gray-500\">No delivery log found.</div> : (\n              <ul className=\"text-xs\">\n                {deliveryLog.map((log, i) => (\n                  <li key={i} className=\"mb-2\">\n                    <div>Status: <span className=\"font-mono\">{log.status}</span></div>\n                    <div>Time: {new Date(log.timestamp).toLocaleString()}</div>\n                    {log.response_code && <div>Response Code: {log.response_code}</div>}\n                    {log.error && <div className=\"text-red-500\">Error: {log.error}</div>}\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Webhooks; "],"names":["EVENT_OPTIONS","Webhooks","webhooks","setWebhooks","useState","loading","setLoading","modalOpen","setModalOpen","editing","setEditing","form","setForm","logModalOpen","setLogModalOpen","logWebhook","setLogWebhook","deliveryLog","setDeliveryLog","testLoading","setTestLoading","fetchWebhooks","data","toast","useEffect","handleOpenModal","wh","handleSave","method","url","res","e","handleDelete","id","handleToggleActive","handleTest","handleViewLog","jsxs","jsx","Button","_a","Fragment","Copy","Dialog","f","opt","Input","log","i"],"mappings":"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"}